<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Live Timing – Manual Entry</title>

<style>
:root {
  --bg:#05080d;
  --row1:#0b1220;
  --row2:#0f1a30;
  --blue:#00cfff;
  --red:#ff2e2e;
  --white:#eaeaea;
  --muted:#9aa4b2;
  --best:#ff00ff;
}

* { box-sizing:border-box; }

body {
  margin:0;
  background:linear-gradient(180deg,#05080d,#020409);
  color:var(--white);
  font-family:"Arial Narrow",Arial,sans-serif;
}

/* HEADER */
header {
  padding:12px 18px;
  background:linear-gradient(90deg,#0b1e3a,#3a0000);
  border-bottom:3px solid var(--blue);
}

header h1 {
  margin:0;
  font-size:18px;
  letter-spacing:1.5px;
}

/* INPUT PANEL */
.panel {
  padding:12px 18px;
  display:grid;
  grid-template-columns: repeat(5, 1fr);
  gap:10px;
  background:#070d18;
  border-bottom:1px solid #1e3a5f;
}

.panel input, .panel button {
  padding:8px;
  background:#0b1220;
  border:1px solid #1e3a5f;
  color:var(--white);
  font-size:13px;
}

.panel input::placeholder {
  color:var(--muted);
}

.panel button {
  cursor:pointer;
  background:var(--blue);
  color:#000;
  font-weight:bold;
}

.panel button:hover {
  opacity:0.9;
}

/* TABLE */
.wrapper {
  padding:12px;
  overflow-x:auto;
}

table {
  width:100%;
  min-width:1000px;
  border-collapse:collapse;
  font-size:13px;
}

thead th {
  color:var(--blue);
  padding:8px 6px;
  border-bottom:2px solid #1e3a5f;
  text-transform:uppercase;
  font-size:12px;
}

tbody tr {
  background:var(--row1);
  border-bottom:1px solid #101a2a;
}

tbody tr:nth-child(even) {
  background:var(--row2);
}

tbody tr:hover {
  background:#15264a;
}

td {
  padding:7px 6px;
  text-align:center;
  white-space:nowrap;
}

td.left { text-align:left; }

.pos { color:var(--blue); font-weight:bold; }
.best { color:var(--best); font-weight:bold; }
.gap { color:var(--muted); }

tr.leader {
  background:linear-gradient(90deg,#102a4a,#3a0000);
  box-shadow:inset 4px 0 0 var(--red);
}
</style>
</head>

<body>

<header>
  <h1>LIVE TIMING</h1>
</header>

<!-- INPUT PANEL -->
<div class="panel">
  <input id="num" placeholder="Nº">
  <input id="team" placeholder="Equipa">
  <input id="driver" placeholder="Piloto">
  <input id="car" placeholder="Carro">
  <input id="best" placeholder="Melhor tempo (ex: 49.123)">
  <button onclick="addDriver()">Adicionar</button>
</div>

<div class="wrapper">
<table>
  <thead>
    <tr>
      <th>POS</th>
      <th>NUM</th>
      <th class="left">TEAM</th>
      <th class="left">DRIVER</th>
      <th class="left">CAR</th>
      <th>GAP</th>
      <th>BEST</th>
    </tr>
  </thead>
  <tbody id="grid"></tbody>
</table>
</div>

<script>
const drivers = [];

/* UTIL */
function toSeconds(t) {
  if (!t) return Infinity;
  return parseFloat(t);
}

function formatGap(sec) {
  return "+" + sec.toFixed(3);
}

/* ADD DRIVER */
function addDriver() {
  const num = document.getElementById("num").value;
  const team = document.getElementById("team").value;
  const driver = document.getElementById("driver").value;
  const car = document.getElementById("car").value;
  const best = document.getElementById("best").value;

  if (!driver || !best) return;

  drivers.push({ num, team, driver, car, best });

  document.querySelectorAll(".panel input").forEach(i => i.value = "");
  renderTable();
}

/* RENDER */
function renderTable() {
  const tbody = document.getElementById("grid");
  tbody.innerHTML = "";

  drivers.sort((a,b) => toSeconds(a.best) - toSeconds(b.best));
  const leaderTime = toSeconds(drivers[0].best);

  drivers.forEach((d,i) => {
    let gap = "—";
    if (i !== 0) gap = formatGap(toSeconds(d.best) - leaderTime);

    tbody.innerHTML += `
      <tr class="${i===0 ? "leader" : ""}">
        <td class="pos">${i+1}</td>
        <td>${d.num || "--"}</td>
        <td class="left">${d.team || "--"}</td>
        <td class="left">${d.driver}</td>
        <td class="left">${d.car || "--"}</td>
        <td class="gap">${gap}</td>
        <td class="best">${d.best}</td>
      </tr>
    `;
  });
}
</script>

</body>
</html>
